# Configuration

Gishiki is a bit tricky to configure, but don't worry: you just need to edit
what you don't like as the [gishiki CLI](../cli/index.md) takes care of bootstrapping
a fully-working configuration.

the real configuration file and application descriptor is stored inside the application
directory and is called settings.json

It has a fixed (minumum) structure:
```json
{
    "general": {
        "development": true,
        "autolog": null
    },

    "security": {
        "serverPassword": "{{@MASTER_KEY}}",
        "serverKey": "{{@SERVER_KEY}}"
    },

    "connections": [
        {
            "name": "default",
            "query": "sqlite://relative/path/to/db.sqlite"
        },
        {
            "name": "debug",
            "query": "sqlite:///absolute/path/to/db.sqlite"
        }
    ]
}
```

As you might have thought those {{@VAR_NAMES}} are replaced with constants defined
in your environment AND/OR Heroku "Config Variables"!

This is a *GREAT* feature that keeps *SECRET* your database connection descriptor and
your master server key while allowing application portability among illimitate environments!


## Automatic Logger

The automatic logger is the logger automatically used to store log entries generated by
an exception.

To understand how to connect a logger it is important to read the [Logging](logging.md) chapter of this manual.

Using null (as in the above example) will discard each log entry.


## Server Key

The server key is a serialized RSA private key as OpenSSL can deserialize it:
a PEM formatted private key or PEM encoded certificate/private key.

The serialized key __CANNOT__ be password encrypted.

The server key can be embedded into the JSON, but it may not be the best solution:
you should either create an environment variable holding the serialized key calling it MASTER_KEY
and recycle the example code, or giving a file path to the serialized key, for example:
"file:///absolute/path/to/file.pem" or "file://relative/path/to/file.pem".

The file path can also be the value of the environment variable, but that is not suggested.

The private key can be of any length and power of two, however 4096 or bigger
is suggested.

```
openssl genrsa -out relative/path/to/file.pem 4096
```

That is the OpenSSL CLI command that may be used to generate a valid RSA private key.


## Server Password

The server password is what will be used as the default server symmetric key.

Unlike the server private key, the server password has a fixed length and it must
be 64 characters long!

